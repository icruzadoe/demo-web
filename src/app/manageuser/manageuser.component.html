<app-navbar></app-navbar>
<div class="loading-indicator" *ngIf="loading">
        <div class="windows8 windows-parquet">
            <div class="wBall" id="wBall_1">
                <div class="wInnerBall"></div>
            </div>
            <div class="wBall" id="wBall_2">
                <div class="wInnerBall"></div>
            </div>
            <div class="wBall" id="wBall_3">
                <div class="wInnerBall"></div>
            </div>
            <div class="wBall" id="wBall_4">
                <div class="wInnerBall"></div>
            </div>
            <div class="wBall" id="wBall_5">
                <div class="wInnerBall"></div>
            </div>
        </div>
    </div>
<div class="center-container margin-container">
    <h2 class="text-center">Gestionar usuarios</h2>
    <br>
    <button (click)="addUser($event)" class="btn btn-primary">
        AGREGAR USUARIO
    </button>
    <br>
    <br>
    <form [formGroup]="loginForm">
        <div class="form-row ">
            <div class="col-md-6 mb-3">
                <label class="sr-only" for="email">Correo electrónico:</label>
                <input type="email" class="form-control mb-2" formControlName="email" id="email" placeholder="Ingrese su correo electrónico" autocomplete="off">
            </div>
            <div class="col-md-2 mb-3">
                <button (click)="onSubmit()" class="btn btn-primary mb-2" [disabled]="loginForm.invalid">BUSCAR
                    USUARIO
                </button>
            </div>
            <div class="col-md-2 mb-3">
                <button (click)="searchClean()" class="btn btn-primary mb-2">LIMPIAR BÚSQUEDA
            </button>
            </div>
            <div class="col-md-2 mb-3">
                <button (click)="generateExcel()" class="btn btn-primary color-btn-excel mb-2">DESCARGAR
                        EXCEL
                </button>
            </div>
        </div>
    </form>
    <br>
    <table class="table table-hover">
        <thead class="thead-color">
            <tr>
                <th scope="col">#</th>
                <th scope="col">NOMBRE</th>
                <th scope="col">CORREO ELECTRÓNICO</th>
                <th scope="col">CELULAR</th>
                <th scope="col">TIPO DE USUARIO</th>
                <th scope="col">PASSWORD</th>
                <th scope="col">DNI</th>
                <th scope="col">CIUDA</th>
                <th scope="col">EDITAR</th>
                <th scope="col">ELIMINAR</th>
            </tr>
        </thead>
        <tbody *ngFor="let user of users; index as i">
            <tr>
                <th scope="row">{{i+1}}</th>
                <td>{{user.username}}</td>
                <td>{{user.correo}}</td>
                <td>{{user.celular}}</td>
                <td>{{user.privilegio}}</td>
                <td>******</td>
                <td>{{user.dni}}</td>
                <td>{{user.ciudad}}</td>
                <td>
                    <button (click)="editUser(user)" mat-button class="text-menu">
                        <i class="material-icons">
                            edit
                        </i>
                    </button>
                </td>
                <td>
                    <button (click)="deleteUser(user)" mat-button class="text-menu">
                        <i class="material-icons">
                            delete
                        </i>
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
</div>